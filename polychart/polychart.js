parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"I2Oo":[function(require,module,exports) {
"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ColorGenerator=void 0;var n=function(){function r(){e(this,r),this.defaultColors=["green","red","blue","orange","yellow"],this.currentIndex=0}return t(r,[{key:"getNextColor",value:function(){return this.currentIndex+=1,this.defaultColors[this.currentIndex-1]}}]),r}();exports.ColorGenerator=n;
},{}],"3/vR":[function(require,module,exports) {
"use strict";function t(t){var e=document.createElementNS("http://www.w3.org/2000/svg","text");for(var r in t)"val"!==r&&e.setAttributeNS(null,r,t[r]);return e.appendChild(document.createTextNode(t.val)),e}function e(t,e){var r=document.createElementNS("http://www.w3.org/2000/svg",t);for(var n in e)r.setAttributeNS(null,n,e[n]);return r}function r(t,e){t||(t=document.createElementNS("http://www.w3.org/2000/svg","g"));var r=document.createElementNS("http://www.w3.org/2000/svg","polyline");for(var u in e)r.setAttributeNS(null,u,e[u]);t.append(r);var l=n("points","0","0");return r.append(l),r}function n(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"freeze",u=document.createElementNS("http://www.w3.org/2000/svg","animate");return u.setAttributeNS(null,"attributeName",t),u.setAttributeNS(null,"from",e),u.setAttributeNS(null,"to",r),u.setAttributeNS(null,"fill",n),u.setAttributeNS(null,"begin","indefinite"),u.setAttributeNS(null,"dur","200ms"),u}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createText=t,exports.createSvgElement=e,exports.createPolyline=r,exports.createTransform=n;
},{}],"Q4Oj":[function(require,module,exports) {
"use strict";function e(e){return Math.max.apply(null,e)}function t(e){return Math.min.apply(null,e)}function r(e,t,r){var n=null;if(t){var a="";for(var u in n=document.createElement(e),t)if("css"===u)for(var l in t[u])a+=l+":"+t[u][l]+";";else n.setAttribute(u,t[u]);a&&n.setAttribute("style",a)}else n="#"===e[0]?document.getElementById(e):"."===e[0]?document.getElementsByClassName(e):document.getElementsByTagName(e);return r&&r.append(n),n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMaxOfArray=e,exports.getMinOfArray=t,exports.query=r;
},{}],"VWvt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Axis=void 0;var t=require("../tools/svg");function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t}var n=function(){function i(t,r,n,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"gray",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"18px";e(this,i),this.svg=t,this.data=r,this.width=n,this.height=o,this.fontSize=s,this.paddingBottom=40,this.color=a,this.format="",this.detectLetterWidth()}return r(i,[{key:"drawHorizontalLine",value:function(e,i,r,n){var o=(0,t.createSvgElement)("line",{x1:e,y1:i,x2:r,y2:n,fill:"none",stroke:this.color,"stroke-width":"1"});this.svg.append(o)}},{key:"detectLetterWidth",value:function(){this.lettersWidth={};var e=(0,t.createText)({x:0,y:0,val:"J","font-size":this.fontSize,color:"black"});this.svg.append(e),this.heightOfLetter=e.getBBox().height,this.widthOfLetter=e.getBBox().width,e.remove()}},{key:"appendLabel",value:function(e,i,r,n,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=(0,t.createText)({x:e,y:i,val:n,"font-size":this.fontSize,fill:this.color});for(var l in o)s.setAttributeNS(null,l,o[l]);return a?a.parentNode.insertBefore(s,a):r.append(s),s}}]),i}();exports.Axis=n;
},{"../tools/svg":"3/vR"}],"2F59":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.XAxis=void 0;var t=require("../tools/svg"),e=require("./axis");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?l(t):e}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],f=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function v(t,e){var i=new Date(t),n=e;if(e.indexOf("DDD")>-1&&(n=n.replace("DDD",f[i.getDay()])),e.indexOf("MMM")>-1&&(n=n.replace("MMM",g[i.getMonth()])),e.indexOf("DD")>-1){var r=i.getDate();n=n.replace("DD",r>9?r:"0"+r)}return n}var c=function(i){function r(e,i,a,l){var h,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"gray";return n(this,r),(h=o(this,s(r).call(this,e,i,a,l,u))).format="MMM DD",h.level=1,h.left_offset=0,h.right_offset=0,h.g=(0,t.createSvgElement)("g",{class:"xaxis"}),h.svg.append(h.g),h.draw(),h}return h(r,e.Axis),a(r,[{key:"getDateByIndex",value:function(t){return v(this.data[t],this.format)}},{key:"getTimestampByPixel",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;-1===i&&(i=this.data.length-1);var n=this.data[e],r=this.data[i],a=(t-0)/(this.width-0);return Math.round(n+(r-n)*a)}},{key:"getDateByPixel",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return v(this.getTimestampByPixel(t,e,i),this.format)}},{key:"getPixelByTimestamp",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;-1===i&&(i=this.data.length-1);var n=this.data[e],r=(t-n)/(this.data[i]-n);return this.width*r}},{key:"calcDatesAndPixels",value:function(t,e){for(var i={},n=0;n<this.data.length;n++)i[this.getDateByIndex(n,t,e)]=this.getPixelByTimestamp(this.data[n],t,e);this.datesPixelsDict=i}},{key:"draw",value:function(t,e){this.calcDatesAndPixels(t,e);for(var i=this.widthOfLetter*this.format.length,n=i/4,r=this.width-i/2,a=Math.ceil((r-n)/i/2),o=(r-n-i*a)/(a-1),l=this.height-3,s=0;s<a;s++){var h=this.getDateByPixel(n+i/2);this.appendLabel(n,l,this.g,h,{class:"level-0"}),n+=i+o}}},{key:"redraw",value:function(t,e){var i=this,n=(this.widthOfLetter,this.format.length,this.svg.getElementsByTagName("polyline")[0].getAttributeNS(null,"points").split(" ").slice(0,2)),a=parseFloat(n[1].split(",")[0])-parseFloat(n[0].split(",")[0]),o=a*e,l=a*(this.data.length-1-t),s=this.g.childNodes;s.forEach(function(t,e){var n=t.getBBox().width/2,a=i.width-(r.getMovingCoordinate(t,!1)+n),s=a-a*o/i.width,h=(a=r.getMovingCoordinate(t,!1)+n)-a*l/i.width;t.setAttributeNS(null,"transform","translate("+(s-h)+")")}),this.updateOpacity(s)}},{key:"updateOpacity",value:function(t){var e=r.getMovingCoordinate(t[0],!0,!1),i=r.getMovingCoordinate(t[1],!0),n=r.getMovingCoordinate(t[2],!0),a=r.getMovingCoordinate(t[0],!1,!1)-r.getMovingCoordinate(t[0],!1,!0),o=4*((n-e)/a-1);if(o>2&&(i-e)/a>=1)this.appendNextLevel(0),this.level+=1;else if(o<0){for(var l=this.g.getElementsByClassName("level-"+(this.level-1)),s=l.length-1;s>=0;s--)l[s].remove();this.level-=1}else if(o>0)for(var h=this.g.getElementsByClassName("level-"+(this.level-1)),u=0;u<h.length;u++)h[u].setAttributeNS(null,"opacity",o)}},{key:"appendNextLevel",value:function(t){var e=this.widthOfLetter*this.format.length,i=this.height-3;if(!this.g.getElementsByClassName("level-"+this.level).length)for(var n=this.g.getElementsByTagName("text"),r=n.length-1,a=0;a<r;a++){var o=2*a;this.appendTextElement(n[o],n[o+1],t,e,i)}}},{key:"appendTextElement",value:function(t,e,i,n,a){var o=t,l=e;Number.isInteger(t)||(o=r.getMovingCoordinate(t,!1,!0)),Number.isInteger(e)||(l=r.getMovingCoordinate(e,!1,!1));var s=o+(l-o-n)/2,h=this.getDateByPixel(s+n/2),u=this.appendLabel(s,a,this.g,h,{class:"level-"+this.level,opacity:i},e);Number.isInteger(t)&&console.log(s,h),s=o+(l-o-u.getBBox().width)/2,u.setAttributeNS(null,"x",s),u.innerHTML=this.getDateByPixel(s+u.getBBox().width/2)}}],[{key:"getMovingCoordinate",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=parseFloat(t.getAttributeNS(null,"x")),r=t.getAttributeNS(null,"transform"),a=!0===i?0:t.getBBox().width;return r&&(r=parseFloat(r.replace("translate(","").replace(")",""))),n+(e&&r?r:0)+a}}]),r}();exports.XAxis=c;
},{"../tools/svg":"3/vR","./axis":"VWvt"}],"mtup":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.YAxis=void 0;var t=require("../tools/queries"),e=require("./axis"),i=require("../tools/svg");function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?u(t):e}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(r){function o(t,e,i,r){var a,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"gray";for(var l in n(this,o),(a=s(this,h(o).call(this,t,e,i,r,u))).visible={},e)a.dataLength=e[l].length,a.visible[l]=!0;return a.min=Number.POSITIVE_INFINITY,a.max=Number.NEGATIVE_INFINITY,a.draw(),a}return l(o,e.Axis),a(o,[{key:"detectMinMax",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;i&&(i=this.dataLength-1);var r=this.min,n=this.max;for(var o in this.data)if(this.visible[o]){var a=this.data[o].slice(e,i);r=Math.min(r,(0,t.getMinOfArray)(a)),n=Math.max(n,(0,t.getMaxOfArray)(a))}var s=r!==this.min&&n!==this.max;return this.min=r,this.max=n,s}},{key:"getValue",value:function(t){var e=(this.height-this.paddingBottom-t)/(this.height-this.paddingBottom);return Math.round(this.min+(this.max-this.min)*e)}},{key:"getPixelByValue",value:function(t,e,i){var r=this.height-this.paddingBottom;return r-r*((t-e)/(i-e))}},{key:"draw",value:function(){this.detectMinMax();var t=this.height-this.paddingBottom/2,e=(t-5*this.heightOfLetter)/4,r=t;this.group=(0,i.createSvgElement)("g"),this.svg.append(this.group);for(var n=0;n<5;n++)this.drawHorizontalLine(0,r,this.width,r),this.appendLabel(10,r-10,this.group,this.getValue(r)),r-=this.heightOfLetter+e}},{key:"redraw",value:function(t,e){if(this.min!==t||this.max!==e){this.min=t,this.max=e;for(var i=this.group.getElementsByTagName("text"),r=0;r<i.length;r++){var n=parseFloat(i[r].getAttributeNS(null,"y"));i[r].innerHTML=this.getValue(n)}}}}]),o}();exports.YAxis=c;
},{"../tools/queries":"Q4Oj","./axis":"VWvt","../tools/svg":"3/vR"}],"K1Mz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ChartMain=void 0;var i=require("./tools/colorgenerator"),e=require("./tools/svg"),t=require("./tools/queries"),s=require("./axis/xaxis"),a=require("./axis/yaxis");function n(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function h(i,e){for(var t=0;t<e.length;t++){var s=e[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function l(i,e,t){return e&&h(i.prototype,e),t&&h(i,t),i}var r=function(){function h(t,l,r){n(this,h),this.id=l,this.el=t,this.x=r.columns[0].slice(1),this.width=t.offsetWidth,this.height=this.width/2,this.format="MMM DD",this.paddingBottom=40,this.minIndex=0,this.maxIndex=this.x.length-1,this.min=Number.POSITIVE_INFINITY,this.max=Number.NEGATIVE_INFINITY,this.minX=this.x[0],this.maxX=this.x[this.x.length-1],this.colorGenerator=new i.ColorGenerator,this.formData(r),this.svg=(0,e.createSvgElement)("svg",{viewBox:"0 0 "+this.width+" "+this.height,class:"chart-svg"}),t.append(this.svg),this.g=(0,e.createSvgElement)("g",{class:"plot-lines"}),this.svg.append(this.g),this.svg.addEventListener("mousemove",this.mouseMoving.bind(this)),this.svg.addEventListener("mouseover",this.mouseOver.bind(this)),this.svg.addEventListener("mouseleave",this.mouseLeave.bind(this)),this.xaxis=new s.XAxis(this.svg,r.columns[0].slice(1),this.width,this.height),this.yaxis=new a.YAxis(this.svg,this.data,this.width,this.height),this.drawLines(0,null,!0),this.createHelpWindow(r)}return l(h,[{key:"createHelpWindow",value:function(i){this.helpingGroup=(0,e.createSvgElement)("g",{class:"helping-group invisible"}),this.svg.append(this.helpingGroup);var s=(0,e.createSvgElement)("line",{class:"vertical-line",x1:0,y1:this.height-this.paddingBottom/2,x2:0,y2:0,fill:"none",stroke:"gray","stroke-width":"1"});this.helpingGroup.append(s);var a=(0,t.query)("div",{class:"helping-block hide"},this.el);(0,t.query)("div",{class:"helping-date"},a);var n=(0,t.query)("div",{class:"helping-data-info-block"},a),h=getComputedStyle(this.el).backgroundColor;for(var l in this.data){var r=(0,t.query)("div",{id:this.id+"-helping-detail-"+l,class:"helping-detail",css:{color:this.colors[l]}},n);(0,t.query)("div",{class:"helping-detail-number"},r),(0,t.query)("div",{class:"helping-detail-name"},r).innerText=i.names[l];var o=(0,e.createSvgElement)("circle",{cx:0,cy:0,r:3,class:"circle-label-"+l,stroke:this.colors[l],"stroke-width":"2",fill:h});this.helpingGroup.append(o)}this.helpingBlock=a}},{key:"mouseMoving",value:function(i){var e=i.offsetX,t=this.getIndexByTimestamp(this.xaxis.getTimestampByPixel(e,this.minIndex,this.maxIndex));this.helpingBlock.getElementsByClassName("helping-date")[0].innerHTML=this.xaxis.getDateByIndex(t);var s=getComputedStyle(this.el).backgroundColor;for(var a in this.data){var n=this.helpingBlock.querySelector("#"+this.id+"-helping-detail-"+a),h=this.helpingGroup.getElementsByClassName("circle-label-"+a)[0];if(this.visible[a]){n.classList.remove("hide"),h.classList.remove("invisible");var l=this.data[a][t];n.getElementsByClassName("helping-detail-number")[0].innerHTML=l;var r=this.yaxis.getPixelByValue(l,this.min,this.max),o=this.xaxis.getPixelByTimestamp(this.x[t],this.minIndex,this.maxIndex);h.setAttributeNS(null,"cx",o),h.setAttributeNS(null,"cy",r),h.setAttributeNS(null,"fill",s)}else n.classList.add("hide"),h.classList.add("invisible")}var d=this.helpingGroup.getElementsByTagName("line")[0];d.setAttributeNS(null,"x1",e),d.setAttributeNS(null,"x2",e)}},{key:"mouseOver",value:function(){this.el.getElementsByClassName("helping-block")[0].classList.remove("hide"),this.helpingGroup.classList.remove("invisible")}},{key:"mouseLeave",value:function(i){i.relatedTarget&&!i.relatedTarget.classList.contains("helping-block")&&(this.el.getElementsByClassName("helping-block")[0].classList.add("hide"),this.helpingGroup.classList.add("invisible"))}},{key:"formData",value:function(i){this.data={},this.visible={},this.colors=i.colors;for(var e=0;e<i.columns.length;e++){var t=i.columns[e][0];"line"===i.types[t]&&(this.data[t]=i.columns[e].slice(1),this.visible[t]=!0,this.colors[t]||(this.colors[t]=this.colorGenerator.getNextColor()))}}},{key:"detectMinMax",value:function(){var i=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY;for(var s in this.data)if(this.visible[s]){var a=this.data[s].slice(this.minIndex,this.maxIndex);i=Math.min(i,(0,t.getMinOfArray)(a)),e=Math.max(e,(0,t.getMaxOfArray)(a))}var n=i!==this.min&&e!==this.max;return this.prevMin=Number.isFinite(this.min)?this.min:i,this.min=i,this.prevMax=Number.isFinite(this.max)?this.max:e,this.max=e,n}},{key:"getIndexByTimestamp",value:function(i){for(var e=0;i>this.x[e];)e+=1;return i-this.x[e-1]<this.x[e]-i&&(e-=1),e}},{key:"transform_value",value:function(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e||(e=this.min,t=this.max);var s=this.height-this.paddingBottom;return s-(i-e)/(t-e)*s}},{key:"transform_date",value:function(i){return(i-this.minX)/(this.maxX-this.minX)*this.width}},{key:"drawLine",value:function(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=this.g.querySelector("#"+this.id+"-chart-line-"+i);if(n&&!this.visible[i]&&n.remove(),this.visible[i]){for(var h=this.data[i],l="",r="",o=t;o<=s;o++){var d=this.transform_date(this.x[o]);l+=d+","+this.transform_value(h[o],this.prevMin,this.prevMax)+" ",r+=d+","+this.transform_value(h[o])+" "}if(n)if(a){n.setAttributeNS(null,"points",l);var v=(0,e.createTransform)("points",l,r);n.append(v),v.beginElement()}else{var u=n.childNodes[0];u&&u.remove(),n.setAttributeNS(null,"points",r)}else(0,e.createPolyline)(this.g,{points:r,fill:"none",id:this.id+"-chart-line-"+i,"stroke-width":"2",stroke:this.colors[i]})}}},{key:"drawLines",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var s in e||(e=this.x.length-1),this.minIndex=i,this.maxIndex=e,this.detectMinMax(),this.minX=this.x[i],this.maxX=this.x[e],this.data)this.drawLine(s,i,e,t)}},{key:"moveLeft",value:function(i,e){this.drawLines(i,e),this.xaxis.redraw(i,e),this.yaxis.redraw(this.min,this.max)}},{key:"moveRight",value:function(i,e){this.drawLines(i,e),this.xaxis.redraw(i,e),this.yaxis.redraw(this.min,this.max)}},{key:"moveWindow",value:function(i,e){this.drawLines(i,e),this.xaxis.redraw(i,e),this.yaxis.redraw(this.min,this.max)}},{key:"changeVisible",value:function(i,e){this.visible[i]=e,this.drawLines(this.minIndex,this.maxIndex,!0),this.yaxis.redraw(this.min,this.max)}}]),h}();exports.ChartMain=r;
},{"./tools/colorgenerator":"I2Oo","./tools/svg":"3/vR","./tools/queries":"Q4Oj","./axis/xaxis":"2F59","./axis/yaxis":"mtup"}],"sg+u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ChartNavigation=void 0;var t=require("./tools/colorgenerator"),i=require("./tools/svg"),e=require("./tools/queries");function r(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function s(t,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,i,e){return i&&s(t.prototype,i),e&&s(t,e),t}var n=function(){function s(o,n,h,a,d,l){r(this,s),this.el=o,this.id=n,this.width=o.offsetWidth,this.height=90;var g=(0,e.query)("div",{class:"navigation-blackout"},o),v=(0,e.query)("div",{class:"navigation-border"},g);this.borderDivWidth=parseFloat(getComputedStyle(v,null).getPropertyValue("border-left-width")),v.style.width=this.width-2*this.borderDivWidth+"px",this.x=h,this.minValue=d,this.maxValue=l,this.left_index=0,this.right_index=h.length-1,this.offsetX=o.parentNode.offsetLeft,this.left_border_dragging=!1,this.right_border_dragging=!1,this.window_is_moving=!1,this.colorGenerator=new t.ColorGenerator,this.initEvents();var u=(0,i.createSvgElement)("svg",{viewBox:"0 0 "+this.width+" "+this.height,class:"navigation"});o.append(u),this.g=(0,i.createSvgElement)("g",{class:"plot-navigation-lines"}),u.append(this.g),this.drawLines(a),this.eventLeftBorderWasMoved=[],this.eventRightBorderWasMoved=[],this.eventWindowWasMoved=[]}return o(s,[{key:"initEvents",value:function(){var t=this,i=this.el.getElementsByClassName("navigation-blackout")[0];i.addEventListener("mousedown",function(e){var r=i.childNodes[0].offsetWidth-2*t.borderDivWidth,s=(e.target||e.srcElement).getBoundingClientRect(),o=e.clientX-s.left;o<=t.borderDivWidth?t.left_border_dragging=!0:o>r?t.right_border_dragging=!0:o>0&&o<r&&(t.window_is_moving=o-t.borderDivWidth)}),i.addEventListener("mouseup",function(i){t.left_border_dragging=!1,t.right_border_dragging=!1,t.window_is_moving=!1}),i.addEventListener("touchstart",function(e){var r=parseFloat(getComputedStyle(this.parentNode,null).getPropertyValue("border-left-width")),s=e.touches[0].pageX-t.offsetX-t.borderDivWidth-r,o=i.childNodes[0].offsetWidth-2*t.borderDivWidth;s<=0?t.left_border_dragging=!0:s>o?t.right_border_dragging=!0:s>0&&s<o&&(t.window_is_moving=s)}),i.addEventListener("touchend",function(i){t.left_border_dragging=!1,t.right_border_dragging=!1,t.window_is_moving=!1}),i.addEventListener("mousemove",function(i){t.move(i,this)}),i.addEventListener("touchmove",function(i){t.move(i.touches[0],this)})}},{key:"move",value:function(t,i){var e=i.childNodes[0],r=parseFloat(getComputedStyle(i,null).getPropertyValue("border-left-width")),s=parseFloat(getComputedStyle(i,null).getPropertyValue("border-right-width")),o=this.borderDivWidth,n=t.pageX-8;if(this.left_border_dragging&&n>=o/2&&n<this.width-1.5*o){var h=Math.max(0,this.width-t.pageX+8-1.5*o-s);e.style.width=h+"px",i.style.width=h+2*o+"px";var a=this.width-h-s-2*o;i.style.borderLeftWidth=a+"px",this.leftBorderWasMoved(a)}else if(this.right_border_dragging&&n<=this.width-o/2){var d=Math.max(0,t.pageX-1.5*o-r-8);e.style.width=d+"px",i.style.width=d+2*o+"px";var l=this.width-d-r-2*o;i.style.borderRightWidth=l+"px",this.rightBorderWasMoved(this.width-l)}else if(this.window_is_moving){var g=this.width-(i.offsetWidth-r-s),v=e.offsetWidth-2*o,u=Math.min(g,Math.max(0,n-this.window_is_moving-o));i.style.borderLeftWidth=u+"px";var f=v-this.window_is_moving+o,c=Math.min(g,Math.max(0,this.width-n-f));i.style.borderRightWidth=c+"px",this.windowWasMoved(u,u+v+2*o)}}},{key:"leftBorderWasMoved",value:function(t){for(var i=(t-0)/(this.width-0),r=this,s=(0,e.getMinOfArray)(this.x),o=(0,e.getMaxOfArray)(this.x),n=Math.round(s+(o-s)*i),h=0;n>this.x[h];)h+=1;this.left_index=h,this.eventLeftBorderWasMoved.forEach(function(t,i){t(h,r.right_index)})}},{key:"rightBorderWasMoved",value:function(t){for(var i=(t-0)/(this.width-0),e=this,r=this.x[0],s=this.x[this.x.length-1],o=Math.round(r+(s-r)*i),n=this.x.length-1;o<this.x[n];)n-=1;this.right_index=n,this.eventRightBorderWasMoved.forEach(function(t,i){t(e.left_index,n)})}},{key:"windowWasMoved",value:function(t,i){for(var e=(t-0)/(this.width-0),r=(i-0)/(this.width-0),s=this.x[0],o=this.x[this.x.length-1],n=Math.round(s+(o-s)*e),h=Math.round(s+(o-s)*r),a=0,d=this.x.length-1;n>this.x[a];)a+=1;for(;h<this.x[d];)d-=1;this.left_index=a,this.right_index=d,this.eventWindowWasMoved.forEach(function(t){t(a,d)})}},{key:"transform_value",value:function(t){var i=this.minValue,e=this.maxValue;return this.height-(t-i)/(e-i)*this.height}},{key:"transform_date",value:function(t){return(t-this.x[0])/(this.x[this.x.length-1]-this.x[0])*this.width}},{key:"drawLines",value:function(t){this.data={},this.visible={},this.colors=t.colors;for(var i=0;i<t.columns.length;i++){var e=t.columns[i][0];"line"===t.types[e]&&(this.data[e]=t.columns[i].slice(1),this.visible[e]=!0,this.drawLine(e,!0,t.colors[e]))}}},{key:"updateLine",value:function(t){var i=this.g.querySelector("#"+this.id+"-nav-line-"+t);i.classList.remove("invisible"),this.visible[t]||i.classList.add("invisible")}},{key:"drawLine",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=this;r||(r=this.colorGenerator.getNextColor());var o=this.data[t],n="";this.x.forEach(function(t,i){n+=s.transform_date(s.x[i])+","+s.transform_value(o[i])+" "}),(0,i.createPolyline)(this.g,{points:n,fill:"none",stroke:r,"stroke-width":"2",id:this.id+"-nav-line-"+t})}},{key:"changeVisible",value:function(t,i){this.visible[t]=i,this.updateLine(t)}}]),s}();exports.ChartNavigation=n;
},{"./tools/colorgenerator":"I2Oo","./tools/svg":"3/vR","./tools/queries":"Q4Oj"}],"rdVX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=c;var e=require("./chartmain"),t=require("./chartnav"),i=require("./tools/queries");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function r(){return void 0===r.counter&&(r.counter=0),r.counter++,r.counter}var s=function(){function n(o,s,c){a(this,n),this.id="polychart-"+r(),o.style.width=s+"px",this.el=o;var h=(0,i.query)("div",{class:"chart-main"},o);this.chart=new e.ChartMain(h,this.id,c);var d=(0,i.query)("div",{class:"chart-navigation"},o);this.navigation=new t.ChartNavigation(d,this.id,this.chart.x,c,this.chart.min,this.chart.max),this.width=s,this.eventsCheckboxWasChanged=[],this.onLeftBorderWasMoved(this.chart,this.chart.moveLeft),this.onRightBorderWasMoved(this.chart,this.chart.moveRight),this.onWindowWasMoved(this.chart,this.chart.moveWindow),this.createLabels(c,(0,i.query)("div",{class:"chart-labels"},o)),this.onCheckboxWasChanged(this.chart,this.chart.changeVisible),this.onCheckboxWasChanged(this.navigation,this.navigation.changeVisible);var u=(0,i.query)("div",{class:"switch-block"},o),l=(0,i.query)("button",{class:"switch-mode"},u);l.innerText="Switch to night mode",l.addEventListener("click",function(e){document.getElementsByTagName("body")[0].classList.toggle("dark"),o.classList.toggle("dark")})}return o(n,[{key:"createLabels",value:function(e,t){var a=this;for(var n in e.names){var o=(0,i.query)("div",{class:"checkbox-block"},t),r=(0,i.query)("div",{class:"round"},o),s=(0,i.query)("input",{type:"checkbox",checked:"checked",value:n,id:this.id+"-checkbox-"+n},r);(0,i.query)("label",{class:"checkbox-container",for:this.id+"-checkbox-"+n,css:{"background-color":e.colors[n],"border-color":e.colors[n]}},r),(0,i.query)("label",{class:"checkbox-label",for:this.id+"-checkbox-"+n},o).innerText=e.names[n],s.addEventListener("change",function(e){var t=e.target.id.replace(a.id+"-checkbox-","");a.eventsCheckboxWasChanged.forEach(function(i){i(t,e.target.checked)})})}}},{key:"onLeftBorderWasMoved",value:function(e,t){this.navigation.eventLeftBorderWasMoved.push(t.bind(e))}},{key:"onRightBorderWasMoved",value:function(e,t){this.navigation.eventRightBorderWasMoved.push(t.bind(e))}},{key:"onWindowWasMoved",value:function(e,t){this.navigation.eventWindowWasMoved.push(t.bind(e))}},{key:"onCheckboxWasChanged",value:function(e,t){this.eventsCheckboxWasChanged.push(t.bind(e))}}]),n}();function c(e,t,i){return new s(e,t,i)}
},{"./chartmain":"K1Mz","./chartnav":"sg+u","./tools/queries":"Q4Oj"}]},{},["rdVX"], "Polychart")
//# sourceMappingURL=/polychart.js.map